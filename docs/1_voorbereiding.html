
<!DOCTYPE html>


<html lang="nl" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Voorbereiding &#8212; Internet of Things</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=b028fc25"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/translations.js?v=83e0b41b"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/1_voorbereiding';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Zoeken" href="../search.html" />
    <link rel="next" title="2. MicroPython" href="2_micro_python.html" />
    <link rel="prev" title="Internet of Things" href="0_introductie.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="nl"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="0_introductie.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo_iot_2.svg" class="logo__image only-light" alt="Internet of Things - Home"/>
    <script>document.write(`<img src="../_static/logo_iot_2.svg" class="logo__image only-dark" alt="Internet of Things - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Zoeken" aria-label="Zoeken" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Zoeken</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="0_introductie.html">
                    Internet of Things
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Voorbereiding</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_micro_python.html">2. MicroPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_aansluitingen.html">3. Aansluitingen</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_sensoren.html">4. Sensoren</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_project.html">5. Project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download deze pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/1_voorbereiding.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download het bronbestand"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Afdrukken naar pdf"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Volledig scherm"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Zoeken" aria-label="Zoeken" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Voorbereiding</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Inhoud </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hardware">1.1. Hardware</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#software">1.2. Software</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ontwikkelomgeving">1.2.1. Ontwikkelomgeving</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware">1.3. Firmware</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware-downloaden">1.3.1. Firmware downloaden</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seriele-communicatie">1.3.2. Seriële communicatie</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geheugen-wissen">1.3.3. Geheugen wissen</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware-flashen">1.3.4. Firmware flashen</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="voorbereiding">
<h1><span class="section-number">1. </span>Voorbereiding<a class="headerlink" href="#voorbereiding" title="Link to this heading">#</a></h1>
<p>Voor deze workshop heb je zowel <em>hardware</em>, <em>software</em> als <em>firmware</em> nodig. De hardware is (onder andere) de ESP32 microcontroller, de software heeft alles te maken met het voorbereiden en kunnen gebruiken van deze hardware met jouw systeem (jouw machine en ontwikkelomgeving) en de firmware om de microcontroller te kunnen besturen.</p>
<section id="hardware">
<h2><span class="section-number">1.1. </span>Hardware<a class="headerlink" href="#hardware" title="Link to this heading">#</a></h2>
<p>Je hebt het volgende nodig om deze workshop te kunnen volgen</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.espressif.com/en/products/socs/esp32">ESP32</a> ontwikkelbord (30 pins)</p></li>
<li><p>5mm LED</p></li>
<li><p>Eén weerstand (minimaal 220 <span class="math notranslate nohighlight">\(\Omega\)</span>)</p></li>
<li><p><a class="reference external" href="https://www.analog.com/en/products/tmp36.html">tmp36</a> temperatursensor</p></li>
<li><p>Een <a class="reference external" href="https://en.wikipedia.org/wiki/Breadboard">breadboard</a> (<em>half-size</em>)</p></li>
<li><p>Minimaal 6 draadverbindingen (<em>jumper wires</em>)</p></li>
</ul>
<p>Al deze onderdelen zal je kunnen vinden in de aanbevolen Hanze IoT workshop <a class="reference external" href="https://www.okaphone.com/artikel.asp?id=493625">configuratie</a>.</p>
<div class="admonition important">
<p class="admonition-title">Belangrijk</p>
<p>Het kan zijn dat je al een onwikkelbord hebt, misschien een eerdere versie van de ESP32 (bijvoorbeeld een <a class="reference external" href="https://en.wikipedia.org/wiki/ESP8266">ESP8266</a>) of misschien een <a class="reference external" href="https://www.arduino.cc/">Arduino</a>- of <a class="reference external" href="https://www.raspberrypi.com/">Rasberry</a>. Je kan deze gebruiken voor de workshop, maar houd wel rekening met het volgende:</p>
<ul class="simple">
<li><p>het moet kunnen worden aangesloten op sensoren en bijvoorbeeld LED’s</p></li>
<li><p>het moet kunnen worden geprogrammeerd met Python (een generieke- of bord specifieke versie)</p></li>
</ul>
<p>In deze workshop gebruiken we <a class="reference external" href="https://micropython.org/">MicroPython</a>, maar <a class="reference external" href="https://circuitpython.org/">CircuitPython</a> zou misschien voor jouw bord beter geschikt zijn. In ieder geval, we verwachten dat als je een eigen bord gebruikt dat je weet wat je doet en zullen daar verder geen aanvullende instructies voor geven.</p>
</div>
</section>
<section id="software">
<h2><span class="section-number">1.2. </span>Software<a class="headerlink" href="#software" title="Link to this heading">#</a></h2>
<p>Je zal jouw systeem én de microcontroller eerst moeten voorbereiden voor gebruik en je gaat daar de volgende stappen voor doorlopen</p>
<ul class="simple">
<li><p><em>Software</em> installeren op jouw machine</p></li>
<li><p><em>Firmware</em> plaatsen op de ESP32</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Notitie</p>
<p>Houd er rekening mee dat je deze stappen en alles wat verder gaat volgen met een <em>command line</em> gaat uitvoeren. Een editor als <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> (VSCode) is voor deze workshop geschikt omdat je én Python code gaat schrijven en met de ingebouwde terminal met de microcontroller gaat communiceren.</p>
</div>
<section id="ontwikkelomgeving">
<h3><span class="section-number">1.2.1. </span>Ontwikkelomgeving<a class="headerlink" href="#ontwikkelomgeving" title="Link to this heading">#</a></h3>
<p>Je gaat in deze workshop Python code schrijven voor het aansturen van de microcontroller. Later zal je een Python versie op de microcontroller installeren die speciaal voor dit type processoren geschikt is, <a class="reference external" href="https://micropython.org/">MicroPyhon</a>.</p>
<p>MicroPython is een voor microcontrollers geoptimaliseerde versie van Python en bevat een aantal modules die heel specifiek zijn voor microcontrollers, bijvoorbeeld het kunnen gebruiken van de pinnen of WiFi. Deze zijn <em>niet</em> op jouw systeem geïnstalleerd, editors als VSCode zullen je daarom voor deze specifieke MicroPython modules geen <em>contextuele</em> hulp kunnen bieden (bijvoorbeeld functies aanvullen) want ze kennen alleen maar modules in jouw geïnstalleerde (standaard) Python versie.</p>
<p>Installeer met het volgende een aparte Python package om jouw editor wél kennis te laten hebben van MicroPython specfieke modules:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip install huas-micropython[all]
</pre></div>
</div>
<p>Dit zal tegelijkertijd voor jou <em>twee</em> andere packages installeren, <a class="reference external" href="https://pypi.org/project/adafruit-ampy/"><code class="docutils literal notranslate"><span class="pre">adafruit-ampy</span></code></a> en <a class="reference external" href="https://pypi.org/project/esptool/"><code class="docutils literal notranslate"><span class="pre">esptool</span></code></a>. De <em>eerste</em> heb je nodig voor het kunnen overzetten van de code die je gaat schrijven naar de microcontroller, de <em>tweede</em> is nodig voor het plaatsen van MicroPython (de <em>firmware</em>) op de microntroller en dit is de eerstvolgende stap die je gaat uitvoeren.</p>
<div class="admonition attention">
<p class="admonition-title">Let op</p>
<p>Het kan zijn dat je <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a> gebruikt in combinatie met de Micropython <a class="reference external" href="https://plugins.jetbrains.com/plugin/9777-micropython">plugin</a>. Deze plugin installeert dezelfde MicroPyton type informatie als <a class="reference external" href="https://pypi.org/project/huas-micropython/"><code class="docutils literal notranslate"><span class="pre">huas-micropython</span></code></a> en verder <code class="docutils literal notranslate"><span class="pre">adafruit-ampy</span></code>, maar niet <code class="docutils literal notranslate"><span class="pre">esptool</span></code>. De laatste zal je zelf moeten installeren met:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip install esptool
</pre></div>
</div>
<p>Windows gebruikers kunnen mogelijk de waarschuwing krijgen dat <em>Microsoft Visual c++</em> aanwezig moet zijn om <code class="docutils literal notranslate"><span class="pre">esptool</span></code> te kunnen installeren. Zie in dit geval <a class="reference external" href="https://visualstudio.microsoft.com/visual-cpp-build-tools/">Microsoft C++ Build Tools</a> voor aanvullende software.</p>
</div>
<p>Controleer voordat je naar de volgende stap gaat eerst of alles correct is geïnstalleerd. Voor het plaatsen van de <em>firmware</em> op de microcontroller zal je straks <code class="docutils literal notranslate"><span class="pre">esptool.py</span></code> op de command line het moeten kunnen uitvoeren, probeer dit nu met</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>esptool.py -h
</pre></div>
</div>
<p>en als het goed is zal je een uitvoer zien vergelijkbaar met het volgende:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">usage: esptool [-h]</span>
<span class="go">               [--chip {auto,esp8266,esp32,esp32s2,esp32s3beta2,esp32s3,esp32c3,esp32c6beta,esp32h2,esp8684}]</span>
<span class="go">               [--port PORT] [--baud BAUD]</span>
<span class="go">               [--before {default_reset,usb_reset,no_reset,no_reset_no_sync}]</span>
<span class="go">               [--after {hard_reset,soft_reset,no_reset,no_reset_stub}]</span>
<span class="go">               [--no-stub] [--trace] [--override-vddsdio [{1.8V,1.9V,OFF}]]</span>
<span class="go">               [--connect-attempts CONNECT_ATTEMPTS]</span>
<span class="go">               {load_ram,dump_mem,read_mem,write_mem,write_flash,run,image_info,make_image,elf2image,read_mac,chip_id,flash_id,read_flash_status,write_flash_status,read_flash,verify_flash,erase_flash,erase_region,merge_bin,version,get_security_info}</span>
<span class="go">               ...</span>

<span class="go">esptool.py v3.2 - ESP8266 ROM Bootloader Utility</span>
<span class="go">...</span>
</pre></div>
</div>
</section>
</section>
<section id="firmware">
<h2><span class="section-number">1.3. </span>Firmware<a class="headerlink" href="#firmware" title="Link to this heading">#</a></h2>
<p>De microcontroller heeft ook software nodig (een besturingssysteem) en dit is MicroPython. MicroPython is <em>firmware</em>, dat wil zeggen dat het software is die in hardware ingeprogrammeerd is en de eerste stap is het plaatsen (of <em>flashen</em>) van deze firmware op de microcontroller.</p>
<section id="firmware-downloaden">
<h3><span class="section-number">1.3.1. </span>Firmware downloaden<a class="headerlink" href="#firmware-downloaden" title="Link to this heading">#</a></h3>
<p>De MicroPython firmware is microcontroller specifiek, op <a class="reference external" href="https://micropython.org/download/esp32/">https://micropython.org/download/esp32/</a> vind je de versie voor de ESP32 microcontroller. Download de laatste firmware release (<em>latest</em>), je zal deze later op het ontwikkelbord gaan plaatsen.</p>
</section>
<section id="seriele-communicatie">
<h3><span class="section-number">1.3.2. </span>Seriële communicatie<a class="headerlink" href="#seriele-communicatie" title="Link to this heading">#</a></h3>
<p>Sluit het bord aan met de Micro USB kabel, deze aansluiting is zowel voor voeding als <em>seriële</em> communicatie. Een eerste test of de communicatie met het ontwikkelbord slaagt is om het aan te sluiten, waarna een <em>rode led</em> op het bord zal moeten oplichten.</p>
<p>Voordat je de firmware kan flashen zal je eerst moeten weten op <em>welke</em> <a class="reference external" href="https://en.wikipedia.org/wiki/Serial_port">seriële poort</a> het bord is aangesloten. In het kort volgen nu instructies voor jouw besturingssysteem, meer uitgebreide informatie kan je vinden in de <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/establish-serial-connection.html">ESP32 documentie</a> over seriële communicatie met de microcontroller.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Windows</label><div class="sd-tab-content docutils">
<p>De meest eenvoudige manier om een overzicht van actuele seriële poortnamen op te vragen is om op de command line het volgende uit te voeren:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mode
</pre></div>
</div>
<p>waar de uitvoer vergelijkbaar zal zijn met het volgende</p>
<!-- TODO uitvoer met aangesloten board -->
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Status for device COM1:</span>
<span class="go">-----------------------</span>
<span class="go">    Baud:            1200</span>
<span class="go">    Parity:          None</span>
<span class="go">    Data Bits:       7</span>
<span class="go">    Stop Bits:       1</span>
<span class="go">    Timeout:         OFF</span>
<span class="go">    XON/XOFF:        OFF</span>
<span class="go">    CTS handshaking: OFF</span>
<span class="go">    DSR handshaking: OFF</span>
<span class="go">    DSR sensitivity: OFF</span>
<span class="go">    DTR circuit:     ON</span>
<span class="go">    RTS circuit:     ON</span>

<span class="go">...</span>
</pre></div>
</div>
<p>Je zal hier vooral geïnteresseerd in de genummerde <code class="docutils literal notranslate"><span class="pre">COM</span></code>-poorten en het is waarschijnlijk dat het laatst aangesloten seriële apparaat (de ESP32) het hoogste getal heeft, bijvoorbeeld <code class="docutils literal notranslate"><span class="pre">COM2</span></code>. Onthoud of noteer deze waarde, je zal het later nodig hebben voor het <em>flashen</em> van de MicroPyton firmware en het plaatsen van jouw programmacode op de microcontroller.</p>
<div class="admonition important">
<p class="admonition-title">Belangrijk</p>
<p>Het kan zijn dat een nieuwe <code class="docutils literal notranslate"><span class="pre">COM</span></code>-poort niet zichtbaar is. Dit kan betekenen dat niet de juiste stuurprogramma’s zijn geïnstalleerd, of dat dat Windows deze niet automatisch kan vinden.</p>
<p>Download en installeer in dit geval de <a class="reference external" href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">CP210x USB to UART Bridge VCP Drivers</a> en probeer het opnieuw.</p>
</div>
<p>Twijfel je over de poortnaam? Koppel het bord dan los, voer <code class="docutils literal notranslate"><span class="pre">mode</span></code> uit en noteer de huidige namen. Sluit vervolgens het bord weer aan en controleer weer met <code class="docutils literal notranslate"><span class="pre">mode</span></code> welke poortnaam is toegevoegd (dit zal jouw bord zijn).</p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
macOS / Linux</label><div class="sd-tab-content docutils">
<p>De seriële poortnaam onder Linux of macOS kan je als <em>pseudo terminal</em> device vinden in het virtuele filesystem <code class="docutils literal notranslate"><span class="pre">/dev</span></code>. Voer het volgende twee keer uit, eerst <em>zonder</em> het bord te hebben aangesloten en vervolgens mét om te zien welke poortnaam is toegevoegd:</p>
<p><strong>Linux</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ls /dev/tty*
</pre></div>
</div>
<p><strong>macOS</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ls /dev/cu.*
</pre></div>
</div>
<p>De poortnaam zal voor Linux zichtbaar zijn als bijvoorbeeld <code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code>, of voor macOS bijvoorbeeld <code class="docutils literal notranslate"><span class="pre">/dev/cu.SLAB_USBtoUART7</span></code>. Let op, dit zijn <em>voorbeelden</em>, de namen kunnen voor jouw systeem verschillen!</p>
<div class="admonition important">
<p class="admonition-title">Belangrijk</p>
<p>Onder Linux zal je jezelf moeten toevoegen aan de groep <code class="docutils literal notranslate"><span class="pre">dialout</span></code> om gebruik te kunnen maken van de seriële poort. Als macOS gebruiker zal je misschien ook extra stappen moeten ondernemen als je geen poortnaam ziet, het kan dan zijn dat tóch nog een driver moet worden geïnstalleerd of dat permissies moeten worden gezet om de driver te mogen gebruiken. Lees in dit geval de <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/establish-serial-connection.html">ESP32 documentie</a> voor meer informatie.</p>
</div>
</div>
</div>
<p>Let op, mocht je de kabel later op een andere USB-poort aansluiten dan is de kans groot dat seriële poortnaam wijzigt, houd hier rekening mee!</p>
<p>De seriële poortnaam zal je vaak nodig hebben, niet alleen voor het flashen van de MicroPython firmware, maar ook later als je jouw code op het het bord gaat plaatsen!</p>
</section>
<section id="geheugen-wissen">
<h3><span class="section-number">1.3.3. </span>Geheugen wissen<a class="headerlink" href="#geheugen-wissen" title="Link to this heading">#</a></h3>
<p>De firmware zal naar het permanente geheugen van de microcontroller worden geschreven, maar voordat je dit gaat doet zal je het geheugen eerst moeten wissen. Voer het volgende uit op de command line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>esptool.py --port &lt;name&gt; erase_flash
</pre></div>
</div>
<p>Vervang hier  <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> met de seriële poortnaam die je eerder hebt bepaald, bijvoorbeeld <code class="docutils literal notranslate"><span class="pre">COM2</span></code> (Windows) of <code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code> (Linux).</p>
</section>
<section id="firmware-flashen">
<h3><span class="section-number">1.3.4. </span>Firmware flashen<a class="headerlink" href="#firmware-flashen" title="Link to this heading">#</a></h3>
<p>Eindelijk het laatste deel! Je zal nu de MicroPython firmware die je eerder hebt gedownload naar het permanente geheugen van de microcontroller gaan schrijven, oftewel <em>flashen</em>. Voer het volgende uit op de command line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>esptool.py --port &lt;name&gt; write_flash -z 0x1000 &lt;firmware&gt;
</pre></div>
</div>
<p>Vervang ook hier <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> met de seriële poortnaam en <code class="docutils literal notranslate"><span class="pre">&lt;firmware&gt;</span></code> met de bestandsnaam van de firmware die je eerder hebt gedownload (bijvoorbeeld <code class="docutils literal notranslate"><span class="pre">esp32-20220117-v1.18.bin</span></code>).</p>
<p>Jouw ESP32 is nu klaar voor gebruik!</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="0_introductie.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">vorige</p>
        <p class="prev-next-title">Internet of Things</p>
      </div>
    </a>
    <a class="right-next"
       href="2_micro_python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">volgende</p>
        <p class="prev-next-title"><span class="section-number">2. </span>MicroPython</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Inhoud
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hardware">1.1. Hardware</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#software">1.2. Software</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ontwikkelomgeving">1.2.1. Ontwikkelomgeving</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware">1.3. Firmware</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware-downloaden">1.3.1. Firmware downloaden</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seriele-communicatie">1.3.2. Seriële communicatie</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geheugen-wissen">1.3.3. Geheugen wissen</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firmware-flashen">1.3.4. Firmware flashen</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Door Hanzehogeschool Groningen
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright CC BY-NC-SA 4.0.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>